<div class="row">
    <div class="col-md-12 general-block-decorator">
        <div class="row">
            <div class="col-md-12 title title-without-tabs">
                {intl d='paygreenclimatekit.bo.default' l="PayGreenClimateKit Configuration"}
            </div>
        </div>

        <div class="form-container">
            <div class="row">
                <div class="col-md-12">
                    {form name=\PayGreenClimateKit\Form\ConfigForm::getName()}
                    <form action="{url path="/admin/module/paygreenClimatekit/configure"}" method="post">
                        {form_hidden_fields}

                        {include file = "includes/inner-form-toolbar.html"
                        hide_flags = true
                        page_url   = "{url path='/admin/module/PayGreenClimateKit'}"
                        close_url  = "{url path='/admin/modules'}"
                        }

                        {if $form_error}
                        <div class="row">
                            <div class="col-md-12">
                                <div class="alert alert-danger">{$form_error_message}</div>
                            </div>
                        </div>
                        {/if}

                        <div class="row">
                            <div class="col-md-4">
                                <p class="title title-without-tabs">{intl d='paygreenclimatekit.bo.default' l="Module configuration"}</p>
                                {render_form_field field="accountName" value=$accountName}
                                {render_form_field field="userName" value=$userName}
                                {render_form_field field="password" value=$password}
                            </div>
                            <div class="col-md-4">
                                <p class="title title-without-tabs">{intl d='paygreenclimatekit.bo.default' l="Operation mode"}</p>
                                {render_form_field field="mode" value=$mode}
                                {render_form_field field="showCarbonBotOnAllPages" value=$showCarbonBotOnAllPages}
                                {render_form_field field="transportationExternalId" value=$transportationExternalId|default}
                                {form_field field="colorThemeCarbonBot"}
                                    <div class="form-group {if $error}has-error{/if}">
                                        <label for="{$label_attr.for|default:null}" class="control-label">{intl l={$label}} : </label>
                                        <input type="color" id="{$label_attr.for|default:null}" name="{$name}" class="form-control" value="{$colorThemeCarbonBot}" title="{intl l={$label}}">
                                    </div>
                                {/form_field}
                            </div>
                            <div class="col-md-4">
                                <p class="title title-without-tabs">{intl d='paygreenclimatekit.bo.default' l="Send your Catalog"}</p>

                                <div class="alert alert-info">
                                    {intl d='paygreenclimatekit.bo.default' l="You can send your catalog to PayGreen to initialize your products in the Ckimate dashboard"}
                                </div>

                                {if $smarty.get.uploadCatalogSuccess|default:'' == 'n'}
                                    <div class="alert alert-danger">
                                        {intl d='paygreenclimatekit.bo.default' l="Upload to PayGreen failed, please try again."}
                                    </div>
                                {/if}

                                {if $smarty.get.uploadCatalogSuccess|default:'' == 'y'}
                                    <div class="alert alert-success">
                                        {intl d='paygreenclimatekit.bo.default' l="Your product catalog was successfully send to PayGreen."}
                                    </div>
                                {/if}
                                <a class="btn btn-primary" href="/admin/module/paygreenClimatekit/sendCatalog">{intl d='paygreenclimatekit.bo.default' l="Send your catalog to PayGreen"}</a>

                                <br>
                                <br>
                                <p class="title title-without-tabs">{intl d='paygreenclimatekit.bo.default' l="Get your Catalog"}</p>

                                <div class="alert alert-info">
                                    {intl d='paygreenclimatekit.bo.default' l="You can also download your catalog and integrate it manually in the PayGreen Climate dashboard"}
                                </div>

                                <a class="btn btn-info" href="/admin/module/paygreenClimatekit/downloadCatalog">{intl d='paygreenclimatekit.bo.default' l="Download your catalog"}</a>
                            </div>
                        </div>
                    </form>
                    {/form}
                </div>
            </div>
        </div>
    </div>
</div>
